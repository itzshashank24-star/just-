<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DSMNRU AI College Helpdesk</title>
<style>
    :root {
        --primary: #0d47a1;
        --secondary: #90caf9;
        --bg: #f0f4fb;
        --text: #333;
        --card: #ffffff;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #a1c4fd, #c2e9fb);
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        transition: 0.3s;
    }

    .dark-mode {
        --bg: #1a1a1a;
        --text: #f0f0f0;
        --card: #2d2d2d;
        --primary: #1565c0;
        background: #121212;
    }

    .chat-container {
        width: 480px;
        max-width: 95%;
        height: 90vh;
        background: var(--card);
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    .chat-header {
        background: var(--primary);
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 18px;
        font-weight: bold;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .header-btns button {
        background: rgba(255,255,255,0.2);
        border: none;
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 12px;
        margin-left: 5px;
    }

    .header-btns button:hover {
        background: rgba(255,255,255,0.4);
    }

    .chat-box {
        flex-grow: 1;
        padding: 15px;
        overflow-y: auto;
        background: var(--bg);
        scroll-behavior: smooth;
    }

    .bot-message, .user-message {
        padding: 12px 16px;
        border-radius: 15px;
        margin-bottom: 12px;
        max-width: 85%;
        font-size: 14px;
        line-height: 1.5;
        animation: fadeIn 0.4s ease;
        word-wrap: break-word;
    }

    .bot-message { 
        background: var(--card); 
        color: var(--text); 
        box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
        border-bottom-left-radius: 2px; 
    }
    
    .user-message { 
        background: var(--primary); 
        color: white; 
        margin-left: auto; 
        border-bottom-right-radius: 2px; 
    }

    .timestamp {
        font-size: 10px;
        text-align: right;
        margin-top: 4px;
        opacity: 0.6;
    }

    .action-btns {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 8px;
    }

    .action-btns button {
        font-size: 11px;
        border: none;
        padding: 6px 12px;
        border-radius: 15px;
        background: var(--secondary);
        color: #0d47a1;
        cursor: pointer;
        transition: 0.2s;
        font-weight: 600;
        white-space: nowrap;
    }

    .action-btns button:hover {
        background: var(--primary);
        color: white;
        transform: scale(1.05);
    }

    .quick-btns {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        padding: 10px;
        background: var(--bg);
        border-top: 1px solid rgba(0,0,0,0.05);
        max-height: 100px;
        overflow-y: auto;
    }

    .quick-btns button {
        font-size: 11px;
        border: none;
        padding: 6px 10px;
        border-radius: 20px;
        background: var(--secondary);
        color: #0d47a1;
        cursor: pointer;
        transition: 0.2s;
        font-weight: 600;
        white-space: nowrap;
    }

    .quick-btns button:hover { 
        background: var(--primary); 
        color: white; 
    }

    .chat-input { 
        display: flex; 
        padding: 10px; 
        background: var(--card); 
        border-top: 1px solid #ddd; 
        gap: 8px;
    }
    
    .chat-input input { 
        flex: 1; 
        padding: 12px; 
        border: 1px solid #ddd; 
        border-radius: 25px; 
        outline: none; 
        padding-left: 20px;
        font-size: 14px;
    }

    .lang-selector {
        padding: 5px 10px;
        border: none;
        border-radius: 5px;
        background: var(--secondary);
        color: #0d47a1;
        cursor: pointer;
        font-weight: 600;
        font-size: 12px;
    }
    
    .chat-input button { 
        background: var(--primary); 
        color: white; 
        border: none; 
        width: 45px; 
        height: 45px; 
        border-radius: 50%; 
        cursor: pointer; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        font-size: 18px;
        transition: 0.2s;
    }

    .chat-input button:hover {
        background: #0b3d91;
    }

    .error-msg {
        background: #f8d7da;
        color: #721c24;
        padding: 10px;
        border-radius: 5px;
        border-left: 4px solid #f5c6cb;
        font-size: 13px;
    }

    .success-msg {
        background: #d4edda;
        color: #155724;
        padding: 10px;
        border-radius: 5px;
        border-left: 4px solid #c3e6cb;
    }

    .footer-info {
        font-size: 11px;
        text-align: center;
        padding: 8px;
        background: rgba(0,0,0,0.05);
        color: var(--text);
        border-top: 1px solid rgba(0,0,0,0.1);
    }

    @keyframes fadeIn { 
        from { opacity: 0; transform: translateY(5px); } 
        to { opacity: 1; transform: translateY(0); } 
    }

    ::-webkit-scrollbar {
        width: 6px;
    }

    ::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb {
        background: rgba(0,0,0,0.2);
        border-radius: 3px;
    }

    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.5);
    }

    .modal-content {
        background-color: var(--card);
        margin: 10% auto;
        padding: 20px;
        border: 1px solid #888;
        border-radius: 10px;
        width: 80%;
        max-width: 400px;
        color: var(--text);
    }

    .modal-content h2 {
        color: var(--primary);
    }

    .modal-close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
    }

    .modal-close:hover {
        color: var(--text);
    }

    .modal-btn {
        background: var(--primary);
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        width: 100%;
        margin-top: 10px;
        font-weight: 600;
    }

    .modal-btn:hover {
        background: #0b3d91;
    }
</style>
</head>
<body>

<!-- Complaint Modal -->
<div id="complaintModal" class="modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeComplaintModal()">&times;</span>
        <h2>Report Complaint</h2>
        <p>Click below to visit the Anti-Ragging Portal and file your complaint:</p>
        <button class="modal-btn" onclick="redirectComplaint()">üì¢ Go to Anti-Ragging Portal</button>
        <button class="modal-btn" style="background: #666; margin-top: 5px;" onclick="closeComplaintModal()">Close</button>
    </div>
</div>

<div class="chat-container">
    <div class="chat-header">
        <span>üéì DSMNRU Helpdesk</span>
        <div class="header-btns">
            <button onclick="toggleDarkMode()" id="themeBtn">üåô</button>
            <button onclick="clearChat()">üóëÔ∏è</button>
        </div>
    </div>

    <div class="chat-box" id="chatBox">
        <div class="bot-message">
            <b>Welcome to DSMNRU!</b> üëã<br>
            I'm your AI assistant for <b>Dr. Shakuntala Misra National Rehabilitation University, Lucknow</b>.<br><br>
            <b>Ask me about:</b><br>
            üìö Courses & Programs<br>
            üí∞ Fees & Scholarships<br>
            üìù Admissions<br>
            üè´ Campus & Facilities<br>
            üíº Placements
        </div>
    </div>

    <div class="quick-btns" id="faqSection">
        <button onclick="quickAsk('What courses does DSMNRU offer?')">üìö Courses</button>
        <button onclick="quickAsk('What are the fees?')">üí∞ Fees</button>
        <button onclick="quickAsk('How do I apply?')">üìù Admission</button>
        <button onclick="quickAsk('What facilities?')">üè´ Facilities</button>
        <button onclick="quickAsk('Contact info')">üìû Contact</button>
        <button onclick="quickAsk('Tell me about placement')">üíº Placement</button>
        <button onclick="quickAsk('Scholarship info')">üéì Scholarships</button>
        <button onclick="openComplaintModal()">üì¢ Complaint</button>
    </div>

    <div class="chat-input">
        <select id="langSelector" class="lang-selector" onchange="changeLanguage()">
            <option value="en">English</option>
            <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
        </select>
        <input type="text" id="userInput" placeholder="Ask about college..." autocomplete="off">
        <button onclick="sendMessage()">‚û§</button>
    </div>

    <div class="footer-info">
        üí° Managed by <b>Utkarsh Mishra</b> | üåê <a onclick="redirectOfficialSite()" style="cursor: pointer; color: var(--primary); text-decoration: underline;">Official Site</a> | üìö <a onclick="redirectPYQ()" style="cursor: pointer; color: var(--primary); text-decoration: underline;">PYQ Bank</a> | ü§ñ <a onclick="redirectPYQBot()" style="cursor: pointer; color: var(--primary); text-decoration: underline;">PYQ Bot</a>
    </div>
</body>
</html>

<script>
    const chatBox = document.getElementById("chatBox");
    const userInput = document.getElementById("userInput");
    const API_KEY = "AIzaSyDC27Mamg5xuIF9aUsABI0Dbx6ENhBFWB8";
    let currentLanguage = "en";

    // Hindi Translations
    const translations = {
        courses_hi: "DSMNRU 40+ ‡§∏‡•ç‡§®‡§æ‡§§‡§ï, ‡§∏‡•ç‡§®‡§æ‡§§‡§ï‡•ã‡§§‡•ç‡§§‡§∞ ‡§î‡§∞ ‡§°‡•â‡§ï‡•ç‡§ü‡§∞‡§≤ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ú‡§ø‡§®‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à‡§Ç: B.Tech (CSE, AI-DS, ECE, ‡§Æ‡•à‡§ï‡•á‡§®‡§ø‡§ï‡§≤, ‡§∏‡§ø‡§µ‡§ø‡§≤, ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡§ø‡§ï‡§≤), B.Com, B.Sc, BA, BBA, ‡§ï‡§æ‡§®‡•Ç‡§®, BASLP, MBA, MCA, M.Tech, M.Sc, M.Com, LLM, M.Ed (‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ), B.Ed (‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ), BPO, MPO, ‡§î‡§∞ PhD ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ‡•§",
        fees_hi: "‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§∂‡•Å‡§≤‡•ç‡§ï (‡§™‡•ç‡§∞‡§§‡§ø ‡§µ‡§∞‡•ç‡§∑): B.Tech ‚Çπ90,000-1.2L | MBA ‚Çπ35,000-45,000 | MCA ‚Çπ30,000-40,000 | BA/B.Sc/B.Com ‚Çπ8,000-15,000 | ‡§ï‡§æ‡§®‡•Ç‡§® ‚Çπ20,000-30,000 | BASLP ‚Çπ12,000-35,000‡•§ ‡§®‡•ã‡§ü: ‡§¶‡§ø‡§µ‡•ç‡§Ø‡§æ‡§Ç‡§ó (‡§µ‡§ø‡§ï‡§≤‡§æ‡§Ç‡§ó) ‡§õ‡§æ‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∂‡•Å‡§≤‡•ç‡§ï ‡§Æ‡§æ‡§´‡•Ä ‡§î‡§∞ ‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø ‡§Æ‡§ø‡§≤‡§§‡•Ä ‡§π‡•à!",
        admission_hi: "UG ‡§™‡•ç‡§∞‡§µ‡•á‡§∂: JEE Main / CUET-UG ‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ + ‡§ï‡§æ‡§â‡§Ç‡§∏‡§≤‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á‡•§ PG ‡§™‡•ç‡§∞‡§µ‡•á‡§∂: CUET-PG ‡§Ø‡§æ ‡§Æ‡•á‡§∞‡§ø‡§ü-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§‡•§ PhD: ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞‡•ç‡§∏ ‡§°‡§ø‡§ó‡•ç‡§∞‡•Ä + ‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ/‡§∏‡§æ‡§ï‡•ç‡§∑‡§æ‡§§‡•ç‡§ï‡§æ‡§∞‡•§ ‡§∏‡§≠‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ‡•ã‡§Ç ‡§Æ‡•á‡§Ç 50% ‡§∏‡•Ä‡§ü‡•á‡§Ç ‡§µ‡§ø‡§ï‡§≤‡§æ‡§Ç‡§ó ‡§õ‡§æ‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•à‡§Ç‡•§",
        facilities_hi: "‡§ï‡•à‡§Ç‡§™‡§∏ ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§ì‡§Ç ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à‡§Ç: ‡§¨‡§æ‡§ß‡§æ-‡§Æ‡•Å‡§ï‡•ç‡§§ 131 ‡§è‡§ï‡§°‡§º ‡§™‡§∞‡§ø‡§∏‡§∞ ‡§∞‡•à‡§Ç‡§™ ‡§î‡§∞ ‡§≤‡§ø‡§´‡•ç‡§ü ‡§ï‡•á ‡§∏‡§æ‡§• | 4000+ ‡§ï‡§ø‡§§‡§æ‡§¨‡•ã‡§Ç ‡§µ‡§æ‡§≤‡•Ä ‡§≤‡§æ‡§á‡§¨‡•ç‡§∞‡•á‡§∞‡•Ä | ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ï‡•ç‡§≤‡§æ‡§∏‡§∞‡•Ç‡§Æ WiFi ‡§ï‡•á ‡§∏‡§æ‡§• | ‡§Ö‡§≤‡§ó ‡§≤‡§°‡§º‡§ï‡•á ‡§î‡§∞ ‡§≤‡§°‡§º‡§ï‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§π‡•ã‡§∏‡•ç‡§ü‡§≤ | ‡§ö‡§ø‡§ï‡§ø‡§§‡•ç‡§∏‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ (24/7) | IT ‡§≤‡•à‡§¨ | ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§§‡§ï‡§®‡•Ä‡§ï‡•Ä ‡§≤‡•à‡§¨‡•§",
        placement_hi: "‡§î‡§∏‡§§ ‡§™‡•à‡§ï‡•á‡§ú: ‚Çπ3.2-4.8 LPA‡•§ ‡§∂‡•Ä‡§∞‡•ç‡§∑ ‡§™‡•ç‡§≤‡•á‡§∏‡§Æ‡•á‡§Ç‡§ü: MBA ‡§§‡§ï ‚Çπ12.16 LPA, B.Tech ‡§§‡§ï ‚Çπ9 LPA‡•§ ‡§®‡§ø‡§Ø‡•ã‡§ï‡•ç‡§§‡§æ: Wipro, HCL, IBM, Amazon, Dabur, Axis Bank, HDFC, Reliance‡•§",
        scholarships_hi: "‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø‡§Ø‡§æ‡§Ç: NHFDC ‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø (‚â•40% ‡§µ‡§ø‡§ï‡§≤‡§æ‡§Ç‡§ó‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è) | UP ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø | ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡•Ä‡§Ø ‡§∏‡§∞‡§ï‡§æ‡§∞ ‡§¶‡§ø‡§µ‡•ç‡§Ø‡§æ‡§Ç‡§ó ‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø | ‡§∂‡•Å‡§≤‡•ç‡§ï ‡§™‡•ç‡§∞‡§§‡§ø‡§™‡•Ç‡§∞‡•ç‡§§‡§ø (‡§∂‡•ç‡§∞‡•á‡§£‡•Ä-‡§µ‡§æ‡§∞) | ‡§Ø‡•ã‡§ó‡•ç‡§Ø‡§§‡§æ-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø‡•§",
        contact_hi: "‡§™‡§§‡§æ: ‡§Æ‡•ã‡§π‡§æ‡§® ‡§∞‡•ã‡§°, ‡§≤‡§ñ‡§®‡§ä, UP - 226017 | ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü: https://dsmru.up.nic.in | ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡§æ‡§∞: +91 8887222002 | ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡§æ‡§∞ ‡§à‡§Æ‡•á‡§≤: registrar@dsmnru.ac.in",
        about_hi: "DSMNRU ‡§è‡§ï ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§µ‡§ø‡§∂‡•ç‡§µ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø ‡§π‡•à ‡§ú‡§ø‡§∏‡§ï‡•Ä ‡§∏‡•ç‡§•‡§æ‡§™‡§®‡§æ 2009 ‡§Æ‡•á‡§Ç ‡§π‡•Å‡§à ‡§•‡•Ä, UGC ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§Æ‡§æ‡§®‡•ç‡§Ø‡§§‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§î‡§∞ NAAC ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡§æ‡§Ø‡§ø‡§§‡•§ ‡§Ø‡§π ‡§∏‡§Æ‡§æ‡§µ‡•á‡§∂‡•Ä ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≠‡§æ‡§∞‡§§ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ ‡§∏‡§Ç‡§∏‡•ç‡§•‡§æ ‡§π‡•à‡•§",
        antiRagging_hi: "DSMNRU ‡§ï‡•á ‡§™‡§æ‡§∏ ‡§∞‡•à‡§ó‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§ñ‡§ø‡§≤‡§æ‡§´ ‡§∂‡•Ç‡§®‡•ç‡§Ø ‡§∏‡§π‡§®‡§∂‡•Ä‡§≤‡§§‡§æ ‡§®‡•Ä‡§§‡§ø ‡§π‡•à‡•§ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø ‡§∏‡§≠‡•Ä ‡§õ‡§æ‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§î‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§™‡§∞‡§ø‡§∏‡§∞ ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§ñ‡•ç‡§§‡•Ä ‡§∏‡•á ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§",
        unique_hi: "DSMNRU ‡§Ö‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø ‡§π‡•à: ‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§è‡§ï‡§Æ‡§æ‡§§‡•ç‡§∞ ‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§æ‡§∏-‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§§ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø | 50% ‡§¶‡§ø‡§µ‡•ç‡§Ø‡§æ‡§Ç‡§ó ‡§õ‡§æ‡§§‡•ç‡§∞ ‡§Ü‡§∞‡§ï‡•ç‡§∑‡§£ | 2000+ ‡§¨‡•ç‡§∞‡•á‡§≤ ‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§ø‡§§ | ‡§¨‡§æ‡§ß‡§æ-‡§Æ‡•Å‡§ï‡•ç‡§§ ‡§™‡§∞‡§ø‡§∏‡§∞ ‡§°‡§ø‡§ú‡§æ‡§á‡§®‡•§"
    };

    // College Knowledge Base
    const knowledgeBase = {
        courses: "DSMNRU offers 40+ undergraduate, postgraduate and doctoral programs including: B.Tech (CSE, AI-DS, ECE, Mechanical, Civil, Electrical), B.Com, B.Sc, BA, BBA, Law, BASLP, MBA, MCA, M.Tech, M.Sc, M.Com, LLM, M.Ed (Special Education), B.Ed (Special Education), BPO, MPO, and PhD programs across multiple disciplines.",
        
        fees: "Approximate fees (per year): B.Tech ‚Çπ90,000-1.2L | MBA ‚Çπ35,000-45,000 | MCA ‚Çπ30,000-40,000 | BA/B.Sc/B.Com ‚Çπ8,000-15,000 | Law ‚Çπ20,000-30,000 | BASLP ‚Çπ12,000-35,000. NOTE: Divyang (disabled) students get significant fee waivers and scholarships!",
        
        admission: "UG Admissions: Through JEE Main / CUET-UG entrance exam + counseling. PG Admissions: Through CUET-PG or merit-based. PhD: Master's degree + entrance exam/interview. 50% seats are reserved for differently-abled students in all programs. Cut-offs vary by category.",
        
        facilities: "Campus facilities include: Barrier-free 131-acre campus with ramps & elevators | Library with 4000+ books & Braille resources | Smart classrooms with WiFi | Separate boys & girls hostels | Medical center (24/7) | Physiotherapy unit | Sports complex | Cafeteria | IT labs | Assistive technology labs.",
        
        placement: "Average package: ‚Çπ3.2-4.8 LPA. Top placements: MBA up to ‚Çπ12.16 LPA, B.Tech up to ‚Çπ9 LPA. Recruiters: Wipro, HCL, IBM, Amazon, Dabur, Axis Bank, HDFC, Reliance. Active placement cell with training & MoUs.",
        
        scholarships: "Available scholarships: NHFDC Scholarship (for ‚â•40% disability) | UP State Scholarship | Central Govt Divyang Scholarships | Fee reimbursement (category-wise) | Merit-based scholarships. Divyang students receive tuition waiver + maintenance + book support.",
        
        contact: "Address: Mohaan Road, Lucknow, UP - 226017 | Website: https://dsmru.up.nic.in | Registrar: +91 8887222002 | Registrar Email: registrar@dsmnru.ac.in | VC: Prof. Sanjay Singh (vc@dsmnru.ac.in)",
        
        about: "DSMNRU is a state university established in 2009, recognized by UGC and NAAC accredited. It's India's premier institution for inclusive education with 50% horizontal reservation for differently-abled students. Focus: Barrier-free education, rehabilitation, special education. Notable: 2000+ free Braille textbooks printed, sign language notices for hearing-impaired, scented pathways for visually impaired.",
        
        antiRagging: "DSMNRU has a ZERO TOLERANCE policy against ragging. The university strictly enforces anti-ragging rules to ensure a safe and secure campus environment for all students. Any incidents must be reported immediately to college authorities.",
        
        unique: "DSMNRU is unique for: India's only rehabilitation-focused university | 50% disabled student reservation | 2000+ Braille books published | Sign language translation of notices | Scented pathway navigation for blind students | Para-sports excellence | Barrier-free campus design | Specialized assistive tech labs."
    };

    // Initialize
    window.addEventListener("load", () => {
        if (localStorage.getItem("darkMode") === "true") {
            document.body.classList.add('dark-mode');
            document.getElementById("themeBtn").innerText = "‚òÄÔ∏è";
        }
    });

    userInput.addEventListener("keypress", (e) => { 
        if (e.key === "Enter") sendMessage(); 
    });

    function changeLanguage() {
        currentLanguage = document.getElementById("langSelector").value;
    }

    function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        const isDark = document.body.classList.contains('dark-mode');
        document.getElementById("themeBtn").innerText = isDark ? "‚òÄÔ∏è" : "üåô";
        localStorage.setItem("darkMode", isDark);
    }

    function clearChat() {
        chatBox.innerHTML = `<div class="bot-message"><b>Chat cleared!</b> üëã<br>How can I help you with DSMNRU?</div>`;
    }

    function timeNow() {
        return new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
    }

    function quickAsk(text) {
        userInput.value = text;
        sendMessage();
    }

    function openComplaintModal() {
        document.getElementById("complaintModal").style.display = "block";
    }

    function closeComplaintModal() {
        document.getElementById("complaintModal").style.display = "none";
    }

    function redirectComplaint() {
        window.open("https://antiragging.in/", "_blank");
    }

    function redirectOfficialSite() {
        window.open("https://dsmru.up.nic.in/", "_blank");
    }

    function redirectPYQ() {
        window.open("https://dsmnru-pyq.netlify.app/", "_blank");
    }

    function redirectPYQBot() {
        window.open("https://t.me/dsmnru_pyq_syll_bot", "_blank");
    }

    window.onclick = function(event) {
        const modal = document.getElementById("complaintModal");
        if (event.target === modal) {
            modal.style.display = "none";
        }
    }

    // Smart response matcher
    function getSmartResponse(userMsg) {
        const msg = userMsg.toLowerCase();
        
        if (msg.includes("course") || msg.includes("program") || msg.includes("b.tech") || msg.includes("mba")) {
            return currentLanguage === "hi" ? translations.courses_hi : knowledgeBase.courses;
        }
        if (msg.includes("fee") || msg.includes("cost") || msg.includes("price")) {
            return currentLanguage === "hi" ? translations.fees_hi : knowledgeBase.fees;
        }
        if (msg.includes("admission") || msg.includes("apply") || msg.includes("entrance") || msg.includes("cuet") || msg.includes("jee")) {
            return currentLanguage === "hi" ? translations.admission_hi : knowledgeBase.admission;
        }
        if (msg.includes("facility") || msg.includes("campus") || msg.includes("hostel") || msg.includes("library") || msg.includes("sports")) {
            return currentLanguage === "hi" ? translations.facilities_hi : knowledgeBase.facilities;
        }
        if (msg.includes("placement") || msg.includes("job") || msg.includes("package") || msg.includes("recruit")) {
            return currentLanguage === "hi" ? translations.placement_hi : knowledgeBase.placement;
        }
        if (msg.includes("scholarship") || msg.includes("financial") || msg.includes("grant")) {
            return currentLanguage === "hi" ? translations.scholarships_hi : knowledgeBase.scholarships;
        }
        if (msg.includes("contact") || msg.includes("phone") || msg.includes("email") || msg.includes("address") || msg.includes("website")) {
            return currentLanguage === "hi" ? translations.contact_hi : knowledgeBase.contact;
        }
        if (msg.includes("ragging") || msg.includes("safety") || msg.includes("discipline")) {
            return currentLanguage === "hi" ? translations.antiRagging_hi : knowledgeBase.antiRagging;
        }
        if (msg.includes("unique") || msg.includes("special") || msg.includes("why dsmnru") || msg.includes("disabled") || msg.includes("divyang")) {
            return currentLanguage === "hi" ? translations.unique_hi : knowledgeBase.unique;
        }
        if (msg.includes("about") || msg.includes("dsmnru") || msg.includes("university")) {
            return currentLanguage === "hi" ? translations.about_hi : knowledgeBase.about;
        }
        
        return null;
    }

    function sendMessage() {
        const msg = userInput.value.trim();
        if (!msg) return;

        // Add user message
        chatBox.innerHTML += `<div class="user-message">${escapeHtml(msg)}<div class="timestamp">${timeNow()}</div></div>`;
        userInput.value = "";
        
        // Show typing indicator
        const typing = document.createElement("div");
        typing.className = "bot-message";
        typing.id = "typing";
        typing.innerHTML = "<i>‚ú® Checking knowledge base...</i>";
        chatBox.appendChild(typing);
        chatBox.scrollTop = chatBox.scrollHeight;

        // First try to get answer from knowledge base
        const smartResponse = getSmartResponse(msg);
        
        // Remove typing indicator
        const typingEl = document.getElementById("typing");
        if (typingEl) typingEl.remove();

        if (smartResponse) {
            // Use knowledge base response immediately
            chatBox.innerHTML += `<div class="bot-message">${escapeHtml(smartResponse).replace(/\n/g, '<br>')}<div class="timestamp">${timeNow()}</div></div>`;
            chatBox.scrollTop = chatBox.scrollHeight;
        } else {
            // For other questions, give college-only warning
            const fallbackMsg = "üëã I'm here to help with DSMNRU college questions only! Please ask about courses, fees, admission, facilities, placement, scholarships, or contact information.";
            chatBox.innerHTML += `<div class="bot-message">${fallbackMsg}<div class="timestamp">${timeNow()}</div></div>`;
            chatBox.scrollTop = chatBox.scrollHeight;
        }
    }

    function escapeHtml(text) {
        const map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };
        return text.replace(/[&<>"']/g, m => map[m]);
    }
</script>

</body>
</html>
